version: '1.0'
steps:
    build-step:
        description: Building the image.
        title: Build the Docker image...
        type: build
        dockerfile: Dockerfile
        image-name: aloncodefresh/demochat
        tag: codefresh
        
    simple_travis_step:
      type: simple_travis
      services:
        - redis
        - memcached
        - mariadb
      test:
        image: redis:latest
        command: sh -c 'sleep 30 | redis-cli -h redis'
    
    simple_travis_step_lots_of_stuff:
      type: simple_travis
      services: [ redis, postgresql, mongodb, mysql, couchdb, rabbitmq, memcached ]
      test:
        image: redis:latest
        command: sh -c 'sleep 30 | redis-cli -h redis'
    
